<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<link rel="shortcut icon" href="img/favicon.ico">
	<title>Contact Messages - UniverseM</title>
	<link rel="stylesheet" href="comm/css/main.css">
	<link rel="stylesheet" href="comm/css/minimal.css">
	<style>
		body { background:#f5f5f5; }
		.messages-container { max-width:1200px; margin:0 auto; padding:40px 20px; }
		.messages-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:30px; }
		.messages-header h1 { font-size:32px; font-weight:700; color:#000; margin:0; }
		.btn-back { display:inline-block; padding:10px 20px; background:#000; color:#fff; text-decoration:none; border-radius:4px; font-weight:500; }
		.btn-clear { display:inline-block; padding:10px 20px; background:#ff4444; color:#fff; text-decoration:none; border-radius:4px; font-weight:500; cursor:pointer; border:none; }
		.messages-list { display:flex; flex-direction:column; gap:20px; }
		.message-card { background:#fff; padding:25px; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.1); }
		.message-header { display:flex; justify-content:space-between; align-items:start; margin-bottom:15px; padding-bottom:15px; border-bottom:1px solid #eee; }
		.message-meta { flex:1; }
		.message-name { font-size:18px; font-weight:600; color:#000; margin-bottom:5px; }
		.message-info { font-size:14px; color:#666; line-height:1.6; }
		.message-date { font-size:13px; color:#999; }
		.message-content { font-size:15px; color:#333; line-height:1.7; white-space:pre-wrap; margin-top:15px; }
		.empty-messages { text-align:center; padding:60px 20px; color:#999; }
		.empty-messages p { font-size:16px; margin:0; }
	</style>
</head>
<body>
	<div id="wrap">
		<div class="messages-container">
			<div class="messages-header">
				<h1>Contact Messages</h1>
				<div style="display:flex; gap:10px;">
					<a href="index.html#contact" class="btn-back">Back to Contact</a>
					<button class="btn-clear" onclick="clearMessages()">Clear All</button>
				</div>
			</div>
			<div id="messagesList" class="messages-list">
				<!-- Messages will be loaded here -->
			</div>
		</div>
	</div>

	<script>
		function loadMessages() {
			const messages = JSON.parse(localStorage.getItem('contactMessages') || '[]');
			const messagesList = document.getElementById('messagesList');
			
			if (messages.length === 0) {
				messagesList.innerHTML = '<div class="empty-messages"><p>No messages yet.</p></div>';
				return;
			}
			
			messagesList.innerHTML = messages.map(msg => `
				<div class="message-card">
					<div class="message-header">
						<div class="message-meta">
							<div class="message-name">${escapeHtml(msg.name || 'Unknown')}</div>
							<div class="message-info">
								<strong>Company:</strong> ${escapeHtml(msg.company || 'N/A')}<br>
								<strong>Email:</strong> <a href="mailto:${escapeHtml(msg.email)}">${escapeHtml(msg.email || 'N/A')}</a><br>
								<strong>Phone:</strong> ${escapeHtml(msg.phone || 'N/A')}
							</div>
						</div>
						<div class="message-date">${msg.date || new Date(msg.timestamp).toLocaleString()}</div>
					</div>
					<div class="message-content">${escapeHtml(msg.message || 'No message')}</div>
				</div>
			`).join('');
		}
		
		function escapeHtml(text) {
			if (!text) return '';
			const div = document.createElement('div');
			div.textContent = text;
			return div.innerHTML;
		}
		
		function clearMessages() {
			if (confirm('Are you sure you want to clear all messages? This action cannot be undone.')) {
				localStorage.removeItem('contactMessages');
				loadMessages();
			}
		}
		
		// Load messages on page load
		document.addEventListener('DOMContentLoaded', function() {
			loadMessages();
		});
	</script>
</body>
</html>

